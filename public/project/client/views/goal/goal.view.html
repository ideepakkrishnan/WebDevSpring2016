<h1 class="page-header">Personal Goals</h1>
<span id="helpBlock" class="help-block">Manage your personal fitness goals here</span>

<div ng-controller="GoalController" id='outer' class="container-fluid newSection">
    <div class="col-sm-12 input-group">
        <button type="button" class="btn btn-default" data-toggle="modal" data-target="#newGoalModal">Create a New
            Goal
        </button>
    </div>

    <div class="row newSection">
        <div class="col-xs-12 col-sm-12 col-md-12">
            <div class="divider"></div>
        </div>
    </div>

    <div id="main" class="row">
        <div ng-repeat="goal in model.goals" class="col-sm-12 col-sm-12 col-md-12 callout-info callout">
            <h4>{{goal.name}}</h4>
            <div class="row">
                <div class="col-xs-12 col-sm-6 col-md-16" ng-if="goal.type == 'activity'">
                    <canvas id="calorieDoughnut" class="chart chart-doughnut" chart-legend="true"
                            chart-data="goal.aggregateCalorieData" chart-labels="goal.caloriesDoughnutLabels">
                    </canvas>
                </div>
            </div>

            <div class="radio radio-info">
                <input id="radioCalories{{goal._id}}" class="styled" type="radio"
                       value="calories" ng-checked="goal.type == 'calories'" disabled/>
                <label for="radioCalories{{goal._id}}">Calories</label>
            </div>
            <div class="radio radio-info">
                <input id="radioDistance{{goal._id}}" class="styled" type="radio"
                       value="distance" ng-checked="goal.type == 'distance'" disabled/>
                <label for="radioDistance{{goal._id}}">Distance</label>
            </div>
            <div class="radio radio-info">
                <input id="radioFloors{{goal._id}}" class="styled" type="radio"
                       value="floors" ng-checked="goal.type == 'floors'" disabled/>
                <label for="radioFloors{{goal._id}}">Floors</label>
            </div>
            <div class="radio radio-info">
                <input id="radioSteps{{goal._id}}" class="styled" type="radio"
                       value="steps" ng-checked="goal.type == 'steps'" disabled/>
                <label for="radioSteps{{goal._id}}">Steps</label>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <button type="button" class="btn btn-primary" ng-click="model.selectGoal(goal)"
                            data-toggle="modal" data-target="#updateGoalModal">Edit</button>
                    <button type="button" class="btn btn-default" ng-click="model.deleteGoal(goal._id)">Delete</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="newGoalModal" tabindex="-1" role="dialog" aria-labelledby="newGoalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="newGoalLabel">Add a personal goal</h4>
                </div>
                <div class="modal-body">
                    <div class="row" ng-show="model.goalType">
                        <div class="col-xs-3 col-sm-3 col-md-3">
                            <div>Name:</div>
                        </div>
                        <div class="col-xs-9 col-sm-9 col-md-9 control-edit-options">
                            <input ng-model="model.goalName" type="text" class="form-control" placeholder="Goal Name">
                        </div>
                    </div>
                    <div class="row" ng-show="model.goalType == 'calories'">
                        <div class="col-xs-3 col-sm-3 col-md-3">
                            <div>Calories:</div>
                        </div>
                        <div class="col-xs-9 col-sm-9 col-md-9 control-edit-options">
                            <input ng-model="model.calories" type="number" class="form-control" placeholder="Calories">
                        </div>
                    </div>
                    <div class="row" ng-show="model.goalType == 'steps'">
                        <div class="col-xs-3 col-sm-3 col-md-3">
                            <div>Steps:</div>
                        </div>
                        <div class="col-xs-9 col-sm-9 col-md-9 control-edit-options">
                            <input ng-model="model.steps" type="number" class="form-control" placeholder="Steps">
                        </div>
                    </div>
                    <div class="row" ng-show="model.goalType == 'distance'">
                        <div class="col-xs-3 col-sm-3 col-md-3">
                            <div>Distance:</div>
                        </div>
                        <div class="col-xs-9 col-sm-9 col-md-9 control-edit-options">
                            <input ng-model="model.distance" type="number" class="form-control" placeholder="Distance">
                        </div>
                    </div>
                    <div class="row" ng-show="model.goalType == 'floors'">
                        <div class="col-xs-3 col-sm-3 col-md-3">
                            <div>Floors:</div>
                        </div>
                        <div class="col-xs-9 col-sm-9 col-md-9 control-edit-options">
                            <input ng-model="model.floors" type="number" class="form-control" placeholder="Floors">
                        </div>
                    </div>
                    <div class="row" ng-show="model.goalType">
                        <div class="col-xs-3 col-sm-3 col-md-3">
                            <div>Start Date:</div>
                        </div>
                        <div class="col-xs-9 col-sm-9 col-md-9 control-edit-options">
                            <input ng-model="model.date" type="date" class="form-control">
                        </div>
                    </div>
                    <div class="row newSection" ng-show="model.goalType">
                        <div class="col-xs-12 col-sm-12 col-md-12">
                            <div class="divider"></div>
                        </div>
                    </div>
                    <div class="row" ng-show="model.goalType">
                        <div class="col-xs-12 col-sm-12 col-md-12">
                            <h5>Frequency</h5>
                            <div class="radio radio-info">
                                <input id="radioDaily" ng-model="model.frequency" class="styled" type="radio"
                                       value="1"/>
                                <label for="radioDaily">Daily</label>
                            </div>
                            <div class="radio radio-info">
                                <input id="radioWeekly" ng-model="model.frequency" class="styled" type="radio"
                                       value="7"/>
                                <label for="radioWeekly">Weekly</label>
                            </div>
                        </div>
                    </div>
                    <div class="row newSection" ng-show="model.goalType">
                        <div class="col-xs-12 col-sm-12 col-md-12">
                            <div class="divider"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-sm-12 col-md-12">
                            <h5>Goal Type</h5>
                            <div class="radio radio-info">
                                <input id="radioCalories" ng-model="model.goalType" class="styled" type="radio"
                                       value="calories"/>
                                <label for="radioCalories">Calories</label>
                            </div>
                            <div class="radio radio-info">
                                <input id="radioDistance" ng-model="model.goalType" class="styled" type="radio"
                                       value="distance"/>
                                <label for="radioDistance">Distance</label>
                            </div>
                            <div class="radio radio-info">
                                <input id="radioFloors" ng-model="model.goalType" class="styled" type="radio"
                                       value="floors"/>
                                <label for="radioFloors">Floors</label>
                            </div>
                            <div class="radio radio-info">
                                <input id="radioSteps" ng-model="model.goalType" class="styled" type="radio"
                                       value="steps"/>
                                <label for="radioSteps">Steps</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" ng-click="model.addGoal()">Add Goal</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="updateGoalModal" tabindex="-1" role="dialog" aria-labelledby="updateGoalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="updateGoalLabel">Edit personal goal</h4>
                </div>
                <div class="modal-body">
                    <div class="row" ng-show="model.goalType">
                        <div class="col-xs-3 col-sm-3 col-md-3">
                            <div>Name:</div>
                        </div>
                        <div class="col-xs-9 col-sm-9 col-md-9 control-edit-options">
                            <input ng-model="model.goalName" type="text" class="form-control" placeholder="Goal Name">
                        </div>
                    </div>
                    <div class="row" ng-show="model.goalType == 'calories'">
                        <div class="col-xs-3 col-sm-3 col-md-3">
                            <div>Calories:</div>
                        </div>
                        <div class="col-xs-9 col-sm-9 col-md-9 control-edit-options">
                            <input ng-model="model.calories" type="number" class="form-control" placeholder="Calories">
                        </div>
                    </div>
                    <div class="row" ng-show="model.goalType == 'steps'">
                        <div class="col-xs-3 col-sm-3 col-md-3">
                            <div>Steps:</div>
                        </div>
                        <div class="col-xs-9 col-sm-9 col-md-9 control-edit-options">
                            <input ng-model="model.steps" type="number" class="form-control" placeholder="Steps">
                        </div>
                    </div>
                    <div class="row" ng-show="model.goalType == 'distance'">
                        <div class="col-xs-3 col-sm-3 col-md-3">
                            <div>Distance:</div>
                        </div>
                        <div class="col-xs-9 col-sm-9 col-md-9 control-edit-options">
                            <input ng-model="model.distance" type="number" class="form-control" placeholder="Distance">
                        </div>
                    </div>
                    <div class="row" ng-show="model.goalType == 'floors'">
                        <div class="col-xs-3 col-sm-3 col-md-3">
                            <div>Floors:</div>
                        </div>
                        <div class="col-xs-9 col-sm-9 col-md-9 control-edit-options">
                            <input ng-model="model.floors" type="number" class="form-control" placeholder="Floors">
                        </div>
                    </div>
                    <div class="row" ng-show="model.goalType">
                        <div class="col-xs-3 col-sm-3 col-md-3">
                            <div>Start Date:</div>
                        </div>
                        <div class="col-xs-9 col-sm-9 col-md-9 control-edit-options">
                            <input ng-model="model.date" type="date" class="form-control">
                        </div>
                    </div>
                    <div class="row newSection" ng-show="model.goalType">
                        <div class="col-xs-12 col-sm-12 col-md-12">
                            <div class="divider"></div>
                        </div>
                    </div>
                    <div class="row" ng-show="model.goalType">
                        <div class="col-xs-12 col-sm-12 col-md-12">
                            <h5>Frequency</h5>
                            <div class="radio radio-info">
                                <input id="radioEditDaily" ng-model="model.frequency" class="styled" type="radio"
                                       value="1"/>
                                <label for="radioDaily">Daily</label>
                            </div>
                            <div class="radio radio-info">
                                <input id="radioEditWeekly" ng-model="model.frequency" class="styled" type="radio"
                                       value="7"/>
                                <label for="radioWeekly">Weekly</label>
                            </div>
                        </div>
                    </div>
                    <div class="row newSection" ng-show="model.goalType">
                        <div class="col-xs-12 col-sm-12 col-md-12">
                            <div class="divider"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-sm-12 col-md-12">
                            <h5>Goal Type</h5>
                            <div class="radio radio-info">
                                <input id="radioEditCalories" ng-model="model.goalType" class="styled" type="radio"
                                       value="calories" disabled/>
                                <label for="radioEditCalories">Calories</label>
                            </div>
                            <div class="radio radio-info">
                                <input id="radioEditDistance" ng-model="model.goalType" class="styled" type="radio"
                                       value="distance" disabled/>
                                <label for="radioEditDistance">Distance</label>
                            </div>
                            <div class="radio radio-info">
                                <input id="radioEditFloors" ng-model="model.goalType" class="styled" type="radio"
                                       value="floors" disabled/>
                                <label for="radioEditFloors">Floors</label>
                            </div>
                            <div class="radio radio-info">
                                <input id="radioEditSteps" ng-model="model.goalType" class="styled" type="radio"
                                       value="steps" disabled/>
                                <label for="radioEditSteps">Steps</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" ng-click="model.updateGoal()">Update Goal</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>