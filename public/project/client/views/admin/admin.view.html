<h1 class="page-header">Admin</h1>

<h3>Manage Users</h3>

<div ng-controller="AdminController" class="table table-responsive">
    <table id="responsive-table" class="table table-striped table-bordered">
        <thead>
        <tr>
            <th>
                <a role="button" class="table-header" ng-click="model.order('username')">
                    <span class="sortorder" ng-show="model.predicate === 'username'" ng-class="{reverse:model.reverse}"></span> Username
                </a>
            </th>
            <th>Password</th>
            <th>
                <a role="button" class="table-header" ng-click="model.order('firstName')">
                    <span class="sortorder" ng-show="model.predicate === 'firstName'" ng-class="{reverse:model.reverse}"></span> First Name
                </a>
            </th>
            <th>
                <a role="button" class="table-header" ng-click="model.order('lastName')">
                    <span class="sortorder" ng-show="model.predicate === 'lastName'" ng-class="{reverse:model.reverse}"></span> Last Name
                </a>
            </th>
            <th>Roles</th>
            <th>Action</th>
        </tr>
        </thead>
        <tr>
            <td data-title="Username">
                <input type="text" class="form-control" ng-model="model.newUsername" placeholder="Username">
            </td>
            <td data-title="Password">
                <input type="password" class="form-control" ng-model="model.newPassword" placeholder="Password">
            </td>
            <td data-title="First Name">
                <input type="text" class="form-control" ng-model="model.newFirstName" placeholder="First Name">
            </td>
            <td data-title="Last Name">
                <input type="text" class="form-control" ng-model="model.newLastName" placeholder="Last Name">
            </td>
            <td data-title="Roles">
                <div class="checkbox">
                    <label>
                        <input ng-model="model.player" type="checkbox" value="player" />
                        Player
                    </label>
                </div>
                <div class="checkbox">
                    <label>
                        <input ng-model="model.watcher" type="checkbox" value="watcher" />
                        Watcher
                    </label>
                </div>
                <div class="checkbox">
                    <label>
                        <input ng-model="model.admin" type="checkbox" value="admin" />
                        Admin
                    </label>
                </div>
            </td>
            <td data-title="Action">
                <div class="btn-group" role="group">
                    <button type="button" class="btn btn-default outline" aria-label="Add User" ng-click="model.addUser()">
                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                    </button>
                    <button type="button" class="btn btn-default outline" aria-label="Done" ng-click="model.updateUser()">
                        <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                    </button>
                </div>
            </td>
        </tr>
        <tr ng-repeat="user in model.users | orderBy:model.predicate:model.reverse" ng-class="{'success': user==model.selectedUser}">
            <td data-title="Username">{{user.username}}</td>
            <td data-title="Password"><span class="empty-span">#</span></td>
            <td data-title="First Name">{{user.firstName}}</td>
            <td data-title="Last Name">{{user.lastName}}</td>
            <td data-title="Roles">
                <div class="checkbox">
                    <label>
                        <input type="checkbox" value="player" ng-checked="user.roles.indexOf('player') >= 0" />
                        Player
                    </label>
                </div>
                <div class="checkbox">
                    <label>
                        <input type="checkbox" value="watcher" ng-checked="user.roles.indexOf('watcher') >= 0" />
                        Watcher
                    </label>
                </div>
                <div class="checkbox">
                    <label>
                        <input type="checkbox" value="admin" ng-checked="user.roles.indexOf('admin') >= 0" />
                        Admin
                    </label>
                </div>
            </td>
            <td data-title="Action">
                <div class="btn-group" role="group">
                    <button type="button" class="btn btn-default outline" aria-label="Remove User" ng-click="model.deleteUser(user._id)">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                    </button>
                    <button type="button" class="btn btn-default outline" aria-label="Edit" ng-click="model.selectUser(user)">
                        <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                    </button>
                </div>
            </td>
        </tr>
    </table>
</div>